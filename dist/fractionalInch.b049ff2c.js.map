{"version":3,"sources":["fractionalInch.js"],"names":["numerator","denominator","whole","oldDenominator","nInput","document","getElementById","dInput","wInput","incNum","decNum","incDen","decDen","incWh","decWh","nOutput","dOutput","mainOutput","alertOutput","refreshDen","val","Math","pow","innerHTML","setAttribute","refreshNum","floor","refreshMain","wUpdate","value","parseInt","abs","dUpdate","nUpdate","refreshWh","s","simplify","toFixed","closestMetric","standard","mm","diff","stringifymm","ceil","digits","str","result","data","split","numOne","Number","numTwo","i","max","toString","addEventListener","event","preventDefault","target","setTimeout"],"mappings":"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","file":"fractionalInch.b049ff2c.js","sourceRoot":"..","sourcesContent":["let numerator = 0;\nlet denominator = 2;\nlet whole = 0;\nlet oldDenominator = 2;\n\nlet nInput = document.getElementById('nInput');\nlet dInput = document.getElementById('dInput');\nlet wInput = document.getElementById('wInput');\n\nlet incNum = document.getElementById('incNum');\nlet decNum = document.getElementById('decNum');\n\nlet incDen = document.getElementById('incDen');\nlet decDen = document.getElementById('decDen');\n\nlet incWh = document.getElementById('incWh');\nlet decWh = document.getElementById('decWh');\n\nlet nOutput = document.getElementById('nOutput');\nlet dOutput = document.getElementById('dOutput');\nlet mainOutput = document.getElementById('mainOutput');\nlet alertOutput = document.getElementById('alerts');\n\nnInput.addEventListener('input', nUpdate);\ndInput.addEventListener('input', dUpdate);\nwInput.addEventListener('input', wUpdate);\n\nincNum.addEventListener('click', (event) => {\n  event.preventDefault();\n  refreshNum(numerator + 1);\n});\n\ndecNum.addEventListener('click', (event) => {\n  event.preventDefault();\n  refreshNum(numerator - 1);\n});\n\nincDen.addEventListener('click', (event) => {\n  event.preventDefault();\n  let target = document.getElementById('dInput');\n  target.value = parseInt(target.value) + 1;\n  refreshDen(target.value);\n});\n\ndecDen.addEventListener('click', (event) => {\n  event.preventDefault();\n  if (numerator % 2 != 0) {\n    alertOutput.innerHTML = 'Warning! Precision lost.';\n    setTimeout(() => alertOutput.innerHTML = '', 5000);\n  }\n  let target = document.getElementById('dInput');\n  target.value = parseInt(target.value) - 1;\n  refreshDen(target.value);\n});\n\ndecWh.addEventListener('click', (event) => {\n  event.preventDefault();\n  refreshWh(whole - 1);\n});\n\nincWh.addEventListener('click', (event) => {\n  event.preventDefault();\n  refreshWh(whole + 1);\n});\n\nfunction refreshDen(val) {\n  if (val < 1)\n    val = 1;\n  if (val > 6)\n    val = 6;\n  denominator = Math.pow(2, val);\n  dOutput.innerHTML = denominator;\n  nInput.setAttribute(\"max\", denominator);\n\n  if (denominator > oldDenominator) {\n    refreshNum(numerator * 2);\n  } else if (denominator < oldDenominator) {\n    refreshNum(Math.floor(numerator / 2));\n  }\n\n  oldDenominator = denominator;\n  refreshMain();\n}\n\nfunction wUpdate() {\n  this.value = parseInt(this.value);\n  if (this.value < 0) {\n    this.value = Math.abs(this.value);\n    wInput.value = this.value;\n  }\n  if (this.value != Math.floor(this.value)) {\n    this.value = Math.floor(this.value);\n    wInput.value = this.value;\n  }\n  whole = parseInt(this.value)\n  refreshMain();\n}\n\nfunction dUpdate() {\n  refreshDen(this.value);\n\n}\n\nfunction nUpdate() {\n  refreshNum(this.value);\n}\n\nfunction refreshNum(val) {\n  if (val < 0)\n    val = 0;\n  numerator = val;\n  nInput.value = numerator;\n  nOutput.innerHTML = numerator;\n  refreshMain();\n}\n\nfunction refreshWh(val) {\n  if (val < 0) {\n    val = 0;\n  }\n  whole = val;\n  wInput.value = whole;\n  refreshMain();\n}\n\nfunction refreshMain() {\n  if (numerator == denominator) {\n    numerator = 0;\n    refreshWh(whole + 1);\n    refreshNum(numerator);\n  }\n\n  let s = (whole != 0) ? `${whole}` : '';\n  s += (whole != 0 && numerator != 0) ? '-' : '';\n  s += (numerator != 0) ? simplify(`${numerator}/${denominator}`) : '';\n  s = (whole == 0 && numerator == 0) ? '0' : s;\n  mainOutput.innerHTML = `${s}\" (${(whole + (numerator/denominator)).toFixed(3)}\")`;\n\n  closestMetric();\n}\n\nfunction closestMetric() {\n  let standard = whole + (numerator / denominator);\n  let mm = Math.floor(standard * 25.4);\n  let diff = (standard - (mm / 25.4)).toFixed(3);\n  document.getElementById('metric__under').innerHTML = `${stringifymm(mm, 0)} + ${diff}\"`;\n  mm = Math.ceil(standard * 25.4);\n  diff = Math.abs((standard - (mm  / 25.4)).toFixed(3));\n  document.getElementById('metric__over').innerHTML = `${stringifymm(mm, 0)} - ${Math.abs(diff).toFixed(3)}\"`;\n  document.getElementById('metric__exact').innerHTML = `${(standard * 25.4).toFixed(2)}mm`;\n}\n\nfunction stringifymm(val, digits = 3) {\n  if (val > 1000) {\n    return (`${(val / 1000).toFixed(2)}m`);\n  } else if (val > 100) {\n    return `${(val / 10).toFixed(1)}cm`;\n  } else {\n    return `${(val).toFixed(digits)}mm`;\n  }\n}\n\n// https://www.geeksforgeeks.org/reduce-a-fraction-to-its-simplest-form-by-using-javascript/\nfunction simplify(str) { \n  var result = '', data = str.split('/'),  \n  numOne = Number(data[0]),  \n  numTwo = Number(data[1]); \n  for (var i = Math.max(numOne, numTwo); i > 1; i--) { \n    if ((numOne % i == 0) && (numTwo % i == 0)) { \n      numOne /= i; \n      numTwo /= i;\n    }\n  } \n  if (numTwo === 1) { \n    result = numOne.toString() \n  } else { \n  result = numOne.toString() + '/' + numTwo.toString() \n  } \n  return result \n}\n"]}