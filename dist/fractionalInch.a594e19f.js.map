{"version":3,"sources":["fractionalInch.js"],"names":["numerator","denominator","whole","oldDenominator","nInput","document","getElementById","dInput","wInput","incNum","decNum","incDen","decDen","incWh","decWh","nOutput","dOutput","mainOutput","alertOutput","addEventListener","nUpdate","dUpdate","wUpdate","event","preventDefault","refreshNum","target","value","parseInt","refreshDen","innerHTML","setTimeout","refreshWh","val","Math","pow","setAttribute","floor","refreshMain","abs","s","simplify","toFixed","closestMetric","standard","mm","diff","stringifymm","ceil","digits","str","result","data","split","numOne","Number","numTwo","i","max","toString"],"mappings":"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","file":"fractionalInch.a594e19f.js","sourceRoot":"..","sourcesContent":["let numerator = 0;\nlet denominator = 2;\nlet whole = 0;\nlet oldDenominator = 2;\n\nlet nInput = document.getElementById('nInput');\nlet dInput = document.getElementById('dInput');\nlet wInput = document.getElementById('wInput');\n\nlet incNum = document.getElementById('incNum');\nlet decNum = document.getElementById('decNum');\n\nlet incDen = document.getElementById('incDen');\nlet decDen = document.getElementById('decDen');\n\nlet incWh = document.getElementById('incWh');\nlet decWh = document.getElementById('decWh');\n\nlet nOutput = document.getElementById('nOutput');\nlet dOutput = document.getElementById('dOutput');\nlet mainOutput = document.getElementById('mainOutput');\nlet alertOutput = document.getElementById('alerts');\n\nnInput.addEventListener('input', nUpdate);\ndInput.addEventListener('input', dUpdate);\nwInput.addEventListener('input', wUpdate);\n\nincNum.addEventListener('click', (event) => {\n  event.preventDefault();\n  refreshNum(numerator + 1);\n});\n\ndecNum.addEventListener('click', (event) => {\n  event.preventDefault();\n  refreshNum(numerator - 1);\n});\n\nincDen.addEventListener('click', (event) => {\n  event.preventDefault();\n  let target = document.getElementById('dInput');\n  target.value = parseInt(target.value) + 1;\n  refreshDen(target.value);\n});\n\ndecDen.addEventListener('click', (event) => {\n  event.preventDefault();\n  if (numerator % 2 != 0) {\n    alertOutput.innerHTML = 'Warning! Precision lost.';\n    setTimeout(() => alertOutput.innerHTML = '', 5000);\n  }\n  let target = document.getElementById('dInput');\n  target.value = parseInt(target.value) - 1;\n  refreshDen(target.value);\n});\n\ndecWh.addEventListener('click', (event) => {\n  event.preventDefault();\n  refreshWh(whole - 1);\n});\n\nincWh.addEventListener('click', (event) => {\n  event.preventDefault();\n  refreshWh(whole + 1);\n});\n\nfunction refreshDen(val) {\n  if (val < 1)\n    val = 1;\n  if (val > 6)\n    val = 6;\n  denominator = Math.pow(2, val);\n  dOutput.innerHTML = denominator;\n  nInput.setAttribute(\"max\", denominator);\n\n  if (denominator > oldDenominator) {\n    refreshNum(numerator * 2);\n  } else if (denominator < oldDenominator) {\n    refreshNum(Math.floor(numerator / 2));\n  }\n\n  oldDenominator = denominator;\n  refreshMain();\n}\n\nfunction wUpdate() {\n  this.value = parseInt(this.value);\n  if (this.value < 0) {\n    this.value = Math.abs(this.value);\n    wInput.value = this.value;\n  }\n  if (this.value != Math.floor(this.value)) {\n    this.value = Math.floor(this.value);\n    wInput.value = this.value;\n  }\n  whole = parseInt(this.value)\n  refreshMain();\n}\n\nfunction dUpdate() {\n  refreshDen(this.value);\n\n}\n\nfunction nUpdate() {\n  refreshNum(this.value);\n}\n\nfunction refreshNum(val) {\n  if (val < 0)\n    val = 0;\n  numerator = val;\n  nInput.value = numerator;\n  nOutput.innerHTML = numerator;\n  refreshMain();\n}\n\nfunction refreshWh(val) {\n  if (val < 0) {\n    val = 0;\n  }\n  whole = val;\n  wInput.value = whole;\n  refreshMain();\n}\n\nfunction refreshMain() {\n  if (numerator == denominator) {\n    numerator = 0;\n    refreshWh(whole + 1);\n    refreshNum(numerator);\n  }\n\n  let s = (whole != 0) ? `${whole}` : '';\n  s += (whole != 0 && numerator != 0) ? '-' : '';\n  s += (numerator != 0) ? simplify(`${numerator}/${denominator}`) : '';\n  s = (whole == 0 && numerator == 0) ? '0' : s;\n  mainOutput.innerHTML = `${s}\" (${(whole + (numerator/denominator)).toFixed(3)}\")`;\n\n  closestMetric();\n}\n\nfunction closestMetric() {\n  let standard = whole + (numerator / denominator);\n  let mm = Math.floor(standard * 25.4);\n  let diff = (standard - (mm / 25.4)).toFixed(3);\n  document.getElementById('metric__under').innerHTML = `${stringifymm(mm, 0)} + ${diff}\"`;\n  mm = Math.ceil(standard * 25.4);\n  diff = Math.abs((standard - (mm  / 25.4)).toFixed(3));\n  document.getElementById('metric__over').innerHTML = `${stringifymm(mm, 0)} - ${Math.abs(diff).toFixed(3)}\"`;\n  document.getElementById('metric__exact').innerHTML = `${(standard * 25.4).toFixed(2)}mm`;\n}\n\nfunction stringifymm(val, digits = 3) {\n  if (val > 1000) {\n    return (`${(val / 1000).toFixed(2)}m`);\n  } else if (val > 100) {\n    return `${(val / 10).toFixed(1)}cm`;\n  } else {\n    return `${(val).toFixed(digits)}mm`;\n  }\n}\n\n// https://www.geeksforgeeks.org/reduce-a-fraction-to-its-simplest-form-by-using-javascript/\nfunction simplify(str) { \n  var result = '', data = str.split('/'),  \n  numOne = Number(data[0]),  \n  numTwo = Number(data[1]); \n  for (var i = Math.max(numOne, numTwo); i > 1; i--) { \n    if ((numOne % i == 0) && (numTwo % i == 0)) { \n      numOne /= i; \n      numTwo /= i;\n    }\n  } \n  if (numTwo === 1) { \n    result = numOne.toString() \n  } else { \n  result = numOne.toString() + '/' + numTwo.toString() \n  } \n  return result \n}\n"]}